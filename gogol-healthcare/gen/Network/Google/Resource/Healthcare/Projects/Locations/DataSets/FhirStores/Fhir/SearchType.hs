{-# LANGUAGE DataKinds          #-}
{-# LANGUAGE DeriveDataTypeable #-}
{-# LANGUAGE DeriveGeneric      #-}
{-# LANGUAGE FlexibleInstances  #-}
{-# LANGUAGE NoImplicitPrelude  #-}
{-# LANGUAGE OverloadedStrings  #-}
{-# LANGUAGE RecordWildCards    #-}
{-# LANGUAGE TypeFamilies       #-}
{-# LANGUAGE TypeOperators      #-}

{-# OPTIONS_GHC -fno-warn-duplicate-exports #-}
{-# OPTIONS_GHC -fno-warn-unused-binds      #-}
{-# OPTIONS_GHC -fno-warn-unused-imports    #-}

-- |
-- Module      : Network.Google.Resource.Healthcare.Projects.Locations.DataSets.FhirStores.Fhir.SearchType
-- Copyright   : (c) 2015-2016 Brendan Hay
-- License     : Mozilla Public License, v. 2.0.
-- Maintainer  : Brendan Hay <brendan.g.hay@gmail.com>
-- Stability   : auto-generated
-- Portability : non-portable (GHC extensions)
--
-- Searches for resources in the given FHIR store according to criteria
-- specified as query parameters. Implements the FHIR standard search
-- interaction
-- ([DSTU2](http:\/\/hl7.org\/implement\/standards\/fhir\/DSTU2\/http.html#search),
-- [STU3](http:\/\/hl7.org\/implement\/standards\/fhir\/STU3\/http.html#search),
-- [R4](http:\/\/hl7.org\/implement\/standards\/fhir\/R4\/http.html#search))
-- using the search semantics described in the FHIR Search specification
-- ([DSTU2](http:\/\/hl7.org\/implement\/standards\/fhir\/DSTU2\/search.html),
-- [STU3](http:\/\/hl7.org\/implement\/standards\/fhir\/STU3\/search.html),
-- [R4](http:\/\/hl7.org\/implement\/standards\/fhir\/R4\/search.html)).
-- Supports four methods of search defined by the specification: * \`GET
-- [base]?[parameters]\` to search across all resources. * \`GET
-- [base]\/[type]?[parameters]\` to search resources of a specified type. *
-- \`POST [base]\/_search?[parameters]\` as an alternate form having the
-- same semantics as the \`GET\` method across all resources. * \`POST
-- [base]\/[type]\/_search?[parameters]\` as an alternate form having the
-- same semantics as the \`GET\` method for the specified type. The \`GET\`
-- and \`POST\` methods do not support compartment searches. The \`POST\`
-- method does not support \`application\/x-www-form-urlencoded\` search
-- parameters. On success, the response body contains a JSON-encoded
-- representation of a \`Bundle\` resource of type \`searchset\`,
-- containing the results of the search. Errors generated by the FHIR store
-- contain a JSON-encoded \`OperationOutcome\` resource describing the
-- reason for the error. If the request cannot be mapped to a valid API
-- method on a FHIR store, a generic GCP error might be returned instead.
-- The server\'s capability statement, retrieved through capabilities,
-- indicates what search parameters are supported on each FHIR resource. A
-- list of all search parameters defined by the specification can be found
-- in the FHIR Search Parameter Registry
-- ([STU3](http:\/\/hl7.org\/implement\/standards\/fhir\/STU3\/searchparameter-registry.html),
-- [R4](http:\/\/hl7.org\/implement\/standards\/fhir\/R4\/searchparameter-registry.html)).
-- FHIR search parameters for DSTU2 can be found on each resource\'s
-- definition page. Supported search modifiers: \`:missing\`, \`:exact\`,
-- \`:contains\`, \`:text\`, \`:in\`, \`:not-in\`, \`:above\`, \`:below\`,
-- \`:[type]\`, \`:not\`, and \`:recurse\`. Supported search result
-- parameters: \`_sort\`, \`_count\`, \`_include\`, \`_revinclude\`,
-- \`_summary=text\`, \`_summary=data\`, and \`_elements\`. The maximum
-- number of search results returned defaults to 100, which can be
-- overridden by the \`_count\` parameter up to a maximum limit of 1000. If
-- there are additional results, the returned \`Bundle\` will contain
-- pagination links. Resources with a total size larger than 5MB or a field
-- count larger than 50,000 might not be fully searchable as the server
-- might trim its generated search index in those cases. Note: FHIR
-- resources are indexed asynchronously, so there might be a slight delay
-- between the time a resource is created or changes and when the change is
-- reflected in search results. For samples and detailed information, see
-- [Searching for FHIR resources](\/healthcare\/docs\/how-tos\/fhir-search)
-- and [Advanced FHIR search
-- features](\/healthcare\/docs\/how-tos\/fhir-advanced-search).
--
-- /See:/ <https://cloud.google.com/healthcare Cloud Healthcare API Reference> for @healthcare.projects.locations.datasets.fhirStores.fhir.search-type@.
module Network.Google.Resource.Healthcare.Projects.Locations.DataSets.FhirStores.Fhir.SearchType
    (
    -- * REST Resource
      ProjectsLocationsDataSetsFhirStoresFhirSearchTypeResource

    -- * Creating a Request
    , projectsLocationsDataSetsFhirStoresFhirSearchType
    , ProjectsLocationsDataSetsFhirStoresFhirSearchType

    -- * Request Lenses
    , pldsfsfstParent
    , pldsfsfstXgafv
    , pldsfsfstResourceType
    , pldsfsfstUploadProtocol
    , pldsfsfstAccessToken
    , pldsfsfstUploadType
    , pldsfsfstPayload
    , pldsfsfstCallback
    ) where

import Network.Google.Healthcare.Types
import Network.Google.Prelude

-- | A resource alias for @healthcare.projects.locations.datasets.fhirStores.fhir.search-type@ method which the
-- 'ProjectsLocationsDataSetsFhirStoresFhirSearchType' request conforms to.
type ProjectsLocationsDataSetsFhirStoresFhirSearchTypeResource
     =
     "v1" :>
       Capture "parent" Text :>
         "fhir" :>
           Capture "resourceType" Text :>
             "_search" :>
               QueryParam "$.xgafv" Xgafv :>
                 QueryParam "upload_protocol" Text :>
                   QueryParam "access_token" Text :>
                     QueryParam "uploadType" Text :>
                       QueryParam "callback" Text :>
                         QueryParam "alt" AltJSON :>
                           ReqBody '[JSON] SearchResourcesRequest :>
                             Post '[JSON] HTTPBody

-- | Searches for resources in the given FHIR store according to criteria
-- specified as query parameters. Implements the FHIR standard search
-- interaction
-- ([DSTU2](http:\/\/hl7.org\/implement\/standards\/fhir\/DSTU2\/http.html#search),
-- [STU3](http:\/\/hl7.org\/implement\/standards\/fhir\/STU3\/http.html#search),
-- [R4](http:\/\/hl7.org\/implement\/standards\/fhir\/R4\/http.html#search))
-- using the search semantics described in the FHIR Search specification
-- ([DSTU2](http:\/\/hl7.org\/implement\/standards\/fhir\/DSTU2\/search.html),
-- [STU3](http:\/\/hl7.org\/implement\/standards\/fhir\/STU3\/search.html),
-- [R4](http:\/\/hl7.org\/implement\/standards\/fhir\/R4\/search.html)).
-- Supports four methods of search defined by the specification: * \`GET
-- [base]?[parameters]\` to search across all resources. * \`GET
-- [base]\/[type]?[parameters]\` to search resources of a specified type. *
-- \`POST [base]\/_search?[parameters]\` as an alternate form having the
-- same semantics as the \`GET\` method across all resources. * \`POST
-- [base]\/[type]\/_search?[parameters]\` as an alternate form having the
-- same semantics as the \`GET\` method for the specified type. The \`GET\`
-- and \`POST\` methods do not support compartment searches. The \`POST\`
-- method does not support \`application\/x-www-form-urlencoded\` search
-- parameters. On success, the response body contains a JSON-encoded
-- representation of a \`Bundle\` resource of type \`searchset\`,
-- containing the results of the search. Errors generated by the FHIR store
-- contain a JSON-encoded \`OperationOutcome\` resource describing the
-- reason for the error. If the request cannot be mapped to a valid API
-- method on a FHIR store, a generic GCP error might be returned instead.
-- The server\'s capability statement, retrieved through capabilities,
-- indicates what search parameters are supported on each FHIR resource. A
-- list of all search parameters defined by the specification can be found
-- in the FHIR Search Parameter Registry
-- ([STU3](http:\/\/hl7.org\/implement\/standards\/fhir\/STU3\/searchparameter-registry.html),
-- [R4](http:\/\/hl7.org\/implement\/standards\/fhir\/R4\/searchparameter-registry.html)).
-- FHIR search parameters for DSTU2 can be found on each resource\'s
-- definition page. Supported search modifiers: \`:missing\`, \`:exact\`,
-- \`:contains\`, \`:text\`, \`:in\`, \`:not-in\`, \`:above\`, \`:below\`,
-- \`:[type]\`, \`:not\`, and \`:recurse\`. Supported search result
-- parameters: \`_sort\`, \`_count\`, \`_include\`, \`_revinclude\`,
-- \`_summary=text\`, \`_summary=data\`, and \`_elements\`. The maximum
-- number of search results returned defaults to 100, which can be
-- overridden by the \`_count\` parameter up to a maximum limit of 1000. If
-- there are additional results, the returned \`Bundle\` will contain
-- pagination links. Resources with a total size larger than 5MB or a field
-- count larger than 50,000 might not be fully searchable as the server
-- might trim its generated search index in those cases. Note: FHIR
-- resources are indexed asynchronously, so there might be a slight delay
-- between the time a resource is created or changes and when the change is
-- reflected in search results. For samples and detailed information, see
-- [Searching for FHIR resources](\/healthcare\/docs\/how-tos\/fhir-search)
-- and [Advanced FHIR search
-- features](\/healthcare\/docs\/how-tos\/fhir-advanced-search).
--
-- /See:/ 'projectsLocationsDataSetsFhirStoresFhirSearchType' smart constructor.
data ProjectsLocationsDataSetsFhirStoresFhirSearchType =
  ProjectsLocationsDataSetsFhirStoresFhirSearchType'
    { _pldsfsfstParent :: !Text
    , _pldsfsfstXgafv :: !(Maybe Xgafv)
    , _pldsfsfstResourceType :: !Text
    , _pldsfsfstUploadProtocol :: !(Maybe Text)
    , _pldsfsfstAccessToken :: !(Maybe Text)
    , _pldsfsfstUploadType :: !(Maybe Text)
    , _pldsfsfstPayload :: !SearchResourcesRequest
    , _pldsfsfstCallback :: !(Maybe Text)
    }
  deriving (Eq, Show, Data, Typeable, Generic)


-- | Creates a value of 'ProjectsLocationsDataSetsFhirStoresFhirSearchType' with the minimum fields required to make a request.
--
-- Use one of the following lenses to modify other fields as desired:
--
-- * 'pldsfsfstParent'
--
-- * 'pldsfsfstXgafv'
--
-- * 'pldsfsfstResourceType'
--
-- * 'pldsfsfstUploadProtocol'
--
-- * 'pldsfsfstAccessToken'
--
-- * 'pldsfsfstUploadType'
--
-- * 'pldsfsfstPayload'
--
-- * 'pldsfsfstCallback'
projectsLocationsDataSetsFhirStoresFhirSearchType
    :: Text -- ^ 'pldsfsfstParent'
    -> Text -- ^ 'pldsfsfstResourceType'
    -> SearchResourcesRequest -- ^ 'pldsfsfstPayload'
    -> ProjectsLocationsDataSetsFhirStoresFhirSearchType
projectsLocationsDataSetsFhirStoresFhirSearchType pPldsfsfstParent_ pPldsfsfstResourceType_ pPldsfsfstPayload_ =
  ProjectsLocationsDataSetsFhirStoresFhirSearchType'
    { _pldsfsfstParent = pPldsfsfstParent_
    , _pldsfsfstXgafv = Nothing
    , _pldsfsfstResourceType = pPldsfsfstResourceType_
    , _pldsfsfstUploadProtocol = Nothing
    , _pldsfsfstAccessToken = Nothing
    , _pldsfsfstUploadType = Nothing
    , _pldsfsfstPayload = pPldsfsfstPayload_
    , _pldsfsfstCallback = Nothing
    }


-- | Name of the FHIR store to retrieve resources from.
pldsfsfstParent :: Lens' ProjectsLocationsDataSetsFhirStoresFhirSearchType Text
pldsfsfstParent
  = lens _pldsfsfstParent
      (\ s a -> s{_pldsfsfstParent = a})

-- | V1 error format.
pldsfsfstXgafv :: Lens' ProjectsLocationsDataSetsFhirStoresFhirSearchType (Maybe Xgafv)
pldsfsfstXgafv
  = lens _pldsfsfstXgafv
      (\ s a -> s{_pldsfsfstXgafv = a})

-- | The FHIR resource type to search, such as Patient or Observation. For a
-- complete list, see the FHIR Resource Index
-- ([DSTU2](http:\/\/hl7.org\/implement\/standards\/fhir\/DSTU2\/resourcelist.html),
-- [STU3](http:\/\/hl7.org\/implement\/standards\/fhir\/STU3\/resourcelist.html),
-- [R4](http:\/\/hl7.org\/implement\/standards\/fhir\/R4\/resourcelist.html)).
pldsfsfstResourceType :: Lens' ProjectsLocationsDataSetsFhirStoresFhirSearchType Text
pldsfsfstResourceType
  = lens _pldsfsfstResourceType
      (\ s a -> s{_pldsfsfstResourceType = a})

-- | Upload protocol for media (e.g. \"raw\", \"multipart\").
pldsfsfstUploadProtocol :: Lens' ProjectsLocationsDataSetsFhirStoresFhirSearchType (Maybe Text)
pldsfsfstUploadProtocol
  = lens _pldsfsfstUploadProtocol
      (\ s a -> s{_pldsfsfstUploadProtocol = a})

-- | OAuth access token.
pldsfsfstAccessToken :: Lens' ProjectsLocationsDataSetsFhirStoresFhirSearchType (Maybe Text)
pldsfsfstAccessToken
  = lens _pldsfsfstAccessToken
      (\ s a -> s{_pldsfsfstAccessToken = a})

-- | Legacy upload protocol for media (e.g. \"media\", \"multipart\").
pldsfsfstUploadType :: Lens' ProjectsLocationsDataSetsFhirStoresFhirSearchType (Maybe Text)
pldsfsfstUploadType
  = lens _pldsfsfstUploadType
      (\ s a -> s{_pldsfsfstUploadType = a})

-- | Multipart request metadata.
pldsfsfstPayload :: Lens' ProjectsLocationsDataSetsFhirStoresFhirSearchType SearchResourcesRequest
pldsfsfstPayload
  = lens _pldsfsfstPayload
      (\ s a -> s{_pldsfsfstPayload = a})

-- | JSONP
pldsfsfstCallback :: Lens' ProjectsLocationsDataSetsFhirStoresFhirSearchType (Maybe Text)
pldsfsfstCallback
  = lens _pldsfsfstCallback
      (\ s a -> s{_pldsfsfstCallback = a})

instance GoogleRequest
           ProjectsLocationsDataSetsFhirStoresFhirSearchType
         where
        type Rs
               ProjectsLocationsDataSetsFhirStoresFhirSearchType
             = HTTPBody
        type Scopes
               ProjectsLocationsDataSetsFhirStoresFhirSearchType
             = '["https://www.googleapis.com/auth/cloud-platform"]
        requestClient
          ProjectsLocationsDataSetsFhirStoresFhirSearchType'{..}
          = go _pldsfsfstParent _pldsfsfstResourceType
              _pldsfsfstXgafv
              _pldsfsfstUploadProtocol
              _pldsfsfstAccessToken
              _pldsfsfstUploadType
              _pldsfsfstCallback
              (Just AltJSON)
              _pldsfsfstPayload
              healthcareService
          where go
                  = buildClient
                      (Proxy ::
                         Proxy
                           ProjectsLocationsDataSetsFhirStoresFhirSearchTypeResource)
                      mempty
